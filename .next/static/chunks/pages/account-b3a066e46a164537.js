(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{5458:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return r(6156)}])},6156:function(e,t,r){"use strict";r.r(t);var s=r(4051),n=r.n(s),a=r(5893),o=r(7294),l=r(5675),i=r.n(l),c=r(1664),d=r.n(c),u=r(2920),x=r(3750),p=r(8193),h=(r(4213),r(1163)),m=r(9008),g=r.n(m);function f(e,t,r,s,n,a,o){try{var l=e[a](o),i=l.value}catch(c){return void r(c)}l.done?t(i):Promise.resolve(i).then(s,n)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var a=e.apply(t,r);function o(e){f(a,s,n,o,l,"next",e)}function l(e){f(a,s,n,o,l,"throw",e)}o(void 0)}))}}t.default=function(){var e=(0,h.useRouter)(),t=(0,o.useState)(""),r=t[0],s=t[1],l=(0,o.useState)(""),c=l[0],m=l[1],f=(0,o.useState)(""),v=f[0],j=f[1],y=(0,o.useState)(""),w=y[0],N=y[1],k=(0,o.useState)(""),C=k[0],P=k[1],O=(0,o.useState)(""),S=O[0],E=O[1],_=(0,o.useState)({value:null}),F=_[0],T=_[1],A=(0,o.useState)(!0),B=A[0],H=A[1],q=(0,o.useState)(!0),I=q[0],R=q[1],W=(0,o.useState)(""),z=W[0],L=W[1],J=(0,o.useState)(""),U=J[0],D=J[1],M=(0,o.useState)(""),X=M[0],K=M[1],V=(0,o.useState)(""),Y=V[0],G=V[1],Q=(0,o.useState)(!0),Z=Q[0],$=Q[1],ee=(0,o.useState)(!0),te=ee[0],re=ee[1];(0,o.useEffect)((function(){var t=JSON.parse(localStorage.getItem("myuser"));t||e.push("/"),t&&t.token&&(T(t),P(t.email),se(t.token),G(t.name))}),[]);var se=function(){var e=b(n().mark((function e(t){var r,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!1),r={token:t},e.next=4,fetch("".concat("http://localhost:3000","/api/getuser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,m(o.phone),j(o.pan_no),s(o.name),E(o.ifsc),N(o.accno),$(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=b(n().mark((function e(){var t,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!1),t={token:F.token,pan_no:v,phone:c,name:r,accno:w,ifsc:S,email:C},e.next=4,fetch("".concat("http://localhost:3000","/api/updateuser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return s=e.sent,e.next=7,s.json();case 7:e.sent,$(!0),u.Am.success("Successfully Updated Details",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=b(n().mark((function e(){var t,r,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re(!1),U!=X){e.next=21;break}if(U!=X){e.next=17;break}return r={token:F.token,ReEnter:X,newPass:U,currentPass:z},e.next=7,fetch("".concat("http://localhost:3000","/api/updatepassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 7:return s=e.sent,e.next=10,s.json();case 10:t=e.sent,D(""),L(""),K(""),re(!0),e.next=18;break;case 17:t={success:!1};case 18:t.success?u.Am.success("Successfully Updated Password",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):u.Am.error("Wrong Password",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=22;break;case 21:u.Am.error("New Password is not matching with Re-type Password",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=b(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"name"==t.target.name?s(t.target.value):"phone"==t.target.name?(m(t.target.value),setTimeout((function(){t.target.value.length<=9||t.target.value.length>=11?H(!1):H(!0)}),3e3)):"pan_no"==t.target.name?(j(t.target.value),setTimeout((function(){t.target.value.length<=5||t.target.value.length>=7?R(!1):R(!0)}),3e3)):"ifsc"==t.target.name?E(t.target.value):"accno"==t.target.name?N(t.target.value):"currentPass"==t.target.name?L(t.target.value):"newPass"==t.target.name||"newPass"==t.target.name?D(t.target.value):"ReEnter"==t.target.name&&K(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g(),{children:[(0,a.jsx)("title",{children:"Fresh Frveg - Account"}),(0,a.jsx)("meta",{name:"description",content:"Shop fresh Fruits and vegetables online"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"catoBack flex",children:[(0,a.jsx)(u.Ix,{position:"top-right",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,a.jsx)(u.Ix,{position:"top-right",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),!1===Z&&(0,a.jsx)("span",{className:"fixed flex justify-center z-10 items-center text-green-900 text-lg top-1/2 w-full",children:(0,a.jsx)(i(),{src:"/loader.gif",width:50,height:50})}),(0,a.jsxs)("div",{className:"account-title accFlexCo my-5 mx-20 w-full flex flex-row relative",children:[(0,a.jsxs)("div",{className:"right-side w-1/4 mr-5 leftSideAccW",children:[(0,a.jsxs)("div",{className:"flex accLeftSideN accLeftSideNMB flex-row bg-white justify-start border border-gray-200 rounded-sm py-5 px-5 shadow-sm h-min",children:[(0,a.jsx)("div",{className:"image bg-green-500 rounded-full w-16 h-16 overflow-hidden mr-5",children:(0,a.jsx)("div",{className:"pt-1",children:(0,a.jsx)(i(),{src:"/person.png",width:60,height:60})})}),(0,a.jsxs)("div",{className:"Account",children:[(0,a.jsx)("div",{className:"text-base text-gray-800 flex",children:"Hello,"}),(0,a.jsx)("div",{className:"text-xl text-gray-800 flex",children:Y})]})]}),(0,a.jsx)("div",{className:"flex accLeftSideN flex-row bg-white justify-start border border-gray-200 rounded-sm mt-5 py-5 px-5 shadow-sm h-min",children:(0,a.jsx)("div",{className:"Account",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)(d(),{href:"/yourorder",children:(0,a.jsx)("a",{children:(0,a.jsxs)("li",{className:"text-xl flex flex-row items-center pb-3",children:[(0,a.jsx)(x.jVv,{className:"ml-2 mr-4 text-xl"}),(0,a.jsx)("span",{children:"Withdrawal Coin"})]})})}),(0,a.jsx)(d(),{href:"#changepassword",children:(0,a.jsx)("a",{children:(0,a.jsxs)("li",{className:"text-xl flex cursor-pointer flex-row items-center",children:[(0,a.jsx)(p.YfK,{className:"ml-2 mr-4 text-xl"}),(0,a.jsx)("span",{children:"Change Password"})]})})}),(0,a.jsx)(d(),{href:"/",children:(0,a.jsx)("a",{children:(0,a.jsx)("li",{className:"flex cursor-pointer flex-row items-center",children:(0,a.jsx)("button",{className:"rounded-full bg-blue-700 text-lg px-12 mt-8 py-2 hover:bg-white text-white hover:text-gray-800 border transition-all border-green-700",children:"Home Page"})})})})]})})})]}),(0,a.jsxs)("div",{className:"left-side w-4/5 rightSideAccW",children:[(0,a.jsxs)("div",{className:"persnalD flex flex-col bg-white justify-start border border-gray-200 rounded-sm py-5 px-10 shadow-sm h-min",children:[(0,a.jsx)("p",{className:"border-b pb-2 border-gray-200 text-3xl",children:"Personal Information"}),(0,a.jsxs)("div",{className:"accountInpuW personal-d pl-6 py-8",children:[(0,a.jsxs)("div",{className:"personal-d grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"name",className:"text-base font-normal pl-1",children:"Name"}),(0,a.jsx)("input",{value:r,onChange:oe,type:"text",name:"name",id:"name",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{htmlFor:"phone",className:"text-base font-normal pl-1",children:"10-digit Mobile Number"}),(0,a.jsx)("input",{value:c,onChange:oe,type:"number",name:"phone",id:"phone",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"}),!1===B&&(0,a.jsx)("span",{className:"text-red-700 text-sm absolute -bottom-5 right-0",children:"Enter a valid Mobile number"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-base font-normal pl-1",children:"Email"}),F&&F.token?(0,a.jsx)("input",{value:F.email,readOnly:!0,type:"email",name:"email",id:"email",className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"}):(0,a.jsx)("input",{value:C,onChange:oe,type:"email",name:"email",id:"email",className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{htmlFor:"pan_no",className:"text-base font-normal pl-1",children:"Pan Card Details"}),(0,a.jsx)("input",{value:v,onChange:oe,type:"text",name:"pan_no",id:"pan_no",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"}),!1===I&&(0,a.jsx)("span",{className:"text-red-700 text-sm absolute -bottom-5 right-0",children:"Ender a valid pan_no"})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{htmlFor:"accno",className:"text-base font-normal pl-1",children:"Account Number"}),(0,a.jsx)("input",{value:w,onChange:oe,type:"password",name:"accno",id:"accno",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{htmlFor:"ifsc",className:"text-base font-normal pl-1",children:"Bank IFSC Code Number"}),(0,a.jsx)("input",{value:S,onChange:oe,type:"text",name:"ifsc",id:"ifsc",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]})]}),(0,a.jsx)("button",{onClick:ne,className:"rounded-full bg-green-700 text-lg px-12 mt-8 py-2 hover:bg-white text-white hover:text-gray-800 border transition-all border-green-700",children:!1===Z?(0,a.jsx)("p",{children:"Updating"}):(0,a.jsx)("p",{children:"Update"})})]})]}),(0,a.jsxs)("div",{className:"passwordChng flex flex-col bg-white justify-start border mt-5 border-gray-200 rounded-sm py-5 px-10 shadow-sm h-min",children:[(0,a.jsx)("p",{className:"border-b pb-2 border-gray-200 text-3xl",children:"Change Password"}),(0,a.jsxs)("div",{className:"accountInpuW pl-6 py-8",children:[(0,a.jsxs)("div",{className:"personal-d grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"currentPass",className:"text-base font-normal pl-1",children:"Type Current Password"}),(0,a.jsx)("input",{value:z,onChange:oe,type:"password",name:"currentPass",id:"currentPass",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]}),(0,a.jsx)("div",{className:"div"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"newPass",className:"text-base font-normal pl-1",children:"Type New Password"}),(0,a.jsx)("input",{value:U,onChange:oe,type:"password",name:"newPass",id:"newPass",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"ReEnter",className:"text-base font-normal pl-1",children:"Re-type New Password"}),(0,a.jsx)("input",{type:"password",onChange:oe,value:X,name:"ReEnter",id:"ReEnter",required:!0,className:"p-2 input-bck text-gray-600 text-base border outline-none focus:border-green-700 border-gray-200"})]})]}),(0,a.jsx)("button",{onClick:ae,className:"rounded-full bg-green-700 text-lg px-8 mt-10 py-2 hover:bg-white text-white hover:text-gray-800 border transition-all border-green-700",children:!1===te?(0,a.jsx)("p",{children:"Changing Password"}):(0,a.jsx)("p",{children:"Change Password"})})]}),(0,a.jsx)(d(),{href:"/",children:(0,a.jsx)("a",{children:(0,a.jsx)("div",{className:"flex cursor-pointer justify-center items-center",children:(0,a.jsx)("button",{className:"rounded-full bg-blue-700 text-lg px-12 mt-8 py-2 hover:bg-white text-white hover:text-gray-800 border transition-all border-green-700",children:"Home Page"})})})})]})]})]})]})]})}},9008:function(e,t,r){e.exports=r(3121)},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var s=r(7294),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(n),o=function(){return o=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)},l=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r};function i(e){return e&&e.map((function(e,t){return s.createElement(e.tag,o({key:t},e.attr),i(e.child))}))}function c(e){return function(t){return s.createElement(d,o({attr:o({},e.attr)},t),i(e.child))}}function d(e){var t=function(t){var r,n=e.attr,a=e.size,i=e.title,c=l(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==a?s.createElement(a.Consumer,null,(function(e){return t(e)})):t(n)}}},function(e){e.O(0,[13,617,774,888,179],(function(){return t=5458,e(e.s=t);var t}));var t=e.O();_N_E=t}]);