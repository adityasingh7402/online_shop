(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{8698:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/yourorder",function(){return t(6811)}])},6811:function(e,r,t){"use strict";t.r(r);var s=t(4051),n=t.n(s),i=t(5893),a=t(7294),c=t(1163),l=t(5675),o=t.n(l),d=t(1664),u=t.n(d),x=t(9008),h=t.n(x);function f(e,r,t,s,n,i,a){try{var c=e[i](a),l=c.value}catch(o){return void t(o)}c.done?r(l):Promise.resolve(l).then(s,n)}r.default=function(){var e=(0,c.useRouter)(),r=(0,a.useState)([]),t=r[0],s=r[1],l=(0,a.useState)(!0),d=l[0],x=l[1];return(0,a.useEffect)((function(){var r=function(){var e,r=(e=n().mark((function e(){var r,t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,fetch("".concat("http://localhost:3000","/api/myorders"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:JSON.parse(localStorage.getItem("myuser")).token})});case 3:return r=e.sent,e.next=6,r.json();case 6:t=e.sent,s(t.orders),x(!0);case 9:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(s,n){var i=e.apply(r,t);function a(e){f(i,s,n,a,c,"next",e)}function c(e){f(i,s,n,a,c,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();localStorage.getItem("myuser")?r():e.push("/")}),[]),(0,i.jsxs)("div",{className:"catoBack flex relative",children:[(0,i.jsxs)(h(),{children:[(0,i.jsx)("title",{children:"Fresh Frveg - Orders"}),(0,i.jsx)("meta",{name:"description",content:"Shop fresh Fruits and vegetables online"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),!1===d&&(0,i.jsx)("span",{className:"fixed flex justify-center items-center text-green-900 text-lg top-1/2 w-full",children:(0,i.jsx)(o(),{src:"/loader.gif",width:50,height:50})}),(0,i.jsx)("div",{className:"checkout-title my-8 mx-5 w-full flex flex-row",children:(0,i.jsxs)("div",{className:"right-side mx-auto bg-white yourOrderW text-3xl text-gray-800 border border-gray-200 rounded-sm py-8 px-5 shadow-sm",children:[(0,i.jsx)("p",{children:"Your Order List"}),(0,i.jsxs)("div",{className:"products flex flex-col w-full text-sm mt-8",children:[0==t.length&&(0,i.jsx)("div",{className:"flex justify-center text-4xl text-green-700 py-20 items-center border-t border-b border-gray-200",children:"Your Order List is Empty...."}),t.map((function(e){return(0,i.jsxs)("div",{className:"product flex yourOrderCol justify-center flex-row w-full border-t-2 border-b-2 border-gray-200 p-3 hover:bg-gray-100",children:[(0,i.jsx)("div",{className:"product-image w-48 flex justify-center items-center pr-8",children:(0,i.jsx)("img",{alt:"ecommerce",className:"w-48 h-36 orderImage",src:"/basket.png"})}),(0,i.jsxs)("div",{className:"product-text yourOrderWT flex justify-start flex-col",children:[(0,i.jsx)("h1",{className:"text-2xl pb-1 font-medium",children:e.name}),(0,i.jsxs)("p",{className:"text-lg pb-1",children:["Order id :  ",(0,i.jsxs)("span",{children:["#",e.orderId]})]}),(0,i.jsx)("p",{className:"text-lg pb-1",children:e.createdAt.substring(0,10)}),(0,i.jsxs)("p",{className:"text-lg pb-1",children:["Payment Status: ",(0,i.jsx)("span",{className:"font-medium",children:e.status})]})]}),(0,i.jsx)("div",{className:"product-price w-1/6 flex justify-start",children:(0,i.jsxs)("span",{className:"text-2xl",children:["\u20b9",parseInt(e.amount)+40]})}),(0,i.jsx)("div",{className:"product-price",children:(0,i.jsx)(u(),{href:"/order?id="+e._id,children:(0,i.jsx)("button",{className:"font-medium rounded-full bg-green-700 w-40 text-lg px-8 mt-10 py-2 hover:bg-white text-white hover:text-gray-800 border transition-all border-green-700",children:(0,i.jsx)("h6",{children:"Details"})})})})]},e._id)}))]})]})})]})}},9008:function(e,r,t){e.exports=t(3121)}},function(e){e.O(0,[774,888,179],(function(){return r=8698,e(e.s=r);var r}));var r=e.O();_N_E=r}]);